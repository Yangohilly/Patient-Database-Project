<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="admin-dashboard.css">
</head>
<body>
    <div class="menuToggle"></div>
    <div class="sidebar">
        <ul>
            <li class="logo" style="--bg:#333;">
                <a href="#">
                    <div class="icon"><ion-icon name="logo-apple"></ion-icon></div>
                    <div class="text">Website Logo</div>
                </a>
            </li>
            <ul class="Menulist">
                <li style="--bg:#ffa117;" data-section="profile">
                    <a href="#">
                        <div class="icon"><ion-icon name="eye-outline"></ion-icon></div>
                        <div class="text">View</div>
                    </a>
                </li>

                <li style="--bg:#ffa117;" data-section="users">
                    <a href="#">
                        <div class="icon"><ion-icon name="person-add-outline"></ion-icon></div>
                        <div class="text">Users</div>
                    </a>
                </li>
                <li style="--bg:#ffa117;" data-section="reports">
                    <a href="#">
                        <div class="icon"><ion-icon name="stats-chart-outline"></ion-icon></div>
                        <div class="text">Reports</div>
                    </a>
                </li>
                <li style="--bg:#ffa117;" data-section="settings">
                    <a href="#">
                        <div class="icon"><ion-icon name="settings-outline"></ion-icon></div>
                        <div class="text">Settings</div>
                    </a>
                </li>
            </ul>
            <li style="--bg:#333;" class="bottom">
                <a href="#">
                    <div class="icon">
                        <div class="imgBx">
                            <img src="img.jpg" alt="Profile Image">
                        </div>
                    </div>
                    <div class="text">Yo Daddy!</div>
                </a>
            </li>
            <li style="--bg:#333;">
                <a href="#">
                    <div class="icon"><ion-icon name="log-out-outline"></ion-icon></div>
                    <div class="text">Logout</div>
                </a>
            </li>
        </ul>
    </div>

    <div class="content">
<!-- View Section -->
<div class="profile active-section">
    <h1>View</h1>
    <div class="view-options">
        <button onclick="showView('admin')">Admin View</button>
        <button onclick="showView('doctor')">Doctor View</button>
        <button onclick="showView('health-worker')">Health Worker View</button>
        <button onclick="showView('patient')">Patient View</button>
    </div>
    <input type="text" id="search-input" placeholder="Search by name..." onkeyup="searchUsers()">
    <div id="view-container">
        <!-- Admin View -->
        <div id="admin-view" class="view">
            <h2>Admin View</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>Age</th>
                        <th>Time Added</th>
                    </tr>
                </thead>
                <tbody id="admin-tbody">
                    <!-- Admin data rows will go here -->
                </tbody>
            </table>
        </div>
        <!-- Doctor View -->
        <div id="doctor-view" class="view" style="display:none;">
            <h2>Doctor View</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>Age</th>
                        <th>Specialization</th>
                        <th>Time Added</th>
                    </tr>
                </thead>
                <tbody id="doctor-tbody">
                    <!-- Doctor data rows will go here -->
                </tbody>
            </table>
        </div>
        <!-- Health Worker View -->
        <div id="health-worker-view" class="view" style="display:none;">
            <h2>Health Worker View</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>Age</th>
                        <th>Specialization</th>
                        <th>Time Added</th>
                    </tr>
                </thead>
                <tbody id="health-worker-tbody">
                    <!-- Health Worker data rows will go here -->
                </tbody>
            </table>
        </div>
        <!-- Patient View -->
        <div id="patient-view" class="view" style="display:none;">
            <h2>Patient View</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>Age</th>
                        <th>Assigned Staff</th>
                        <th>Time Added</th>
                    </tr>
                </thead>
                <tbody id="patient-tbody">
                    <!-- Patient data rows will go here -->
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Users Section -->
<div class="users">
    <h1>Users</h1>
    <p>Manage the users of the system here.</p>
    <div class="users-actions">
        <input type="text" id="search-users" placeholder="Search users...">
        <button id="add-user-btn">Add New User</button>
    </div>
    <table id="users-table">
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Role</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <!-- Sample data -->
            <tr>
                <td>john_doe</td>
                <td>john@example.com</td>
                <td>Admin</td>
                <td>
                    <button class="edit-btn">Edit</button>
                    <button class="delete-btn">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>



<!-- Reports Section -->
<div class="reports">
    <h1>Reports</h1>
    <p>Generate and view reports here.</p>
    <button onclick="generateReport()">Generate Report</button>
    <div id="report-output" class="report-output">
        <p>No reports generated yet.</p>
    </div>
</div>

<!-- Settings Section -->
<div class="settings">
    <h1>Settings</h1>
    <p>Configure application settings here.</p>
    <form id="settings-form">
        <label for="site-title">Site Title:</label>
        <input type="text" id="site-title" name="site-title" value="My Admin Dashboard">
        <br>
        <label for="timezone">Timezone:</label>
        <select id="timezone" name="timezone">
            <option value="GMT">GMT</option>
            <option value="PST">PST</option>
            <option value="EST">EST</option>
        </select>
        <br>
        <button type="button" onclick="saveSettings()">Save Settings</button>
    </form>
</div>


    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const sidebarItems = document.querySelectorAll(".sidebar ul li");

            sidebarItems.forEach((item, index) => {
                setTimeout(() => {
                    item.classList.add("show");
                }, index * 100); // delay each item by 100ms
            });
        });

        let menuToggle = document.querySelector('.menuToggle');
        let sidebar = document.querySelector('.sidebar');
        let content = document.querySelector('.content');
        menuToggle.onclick = function () {
            menuToggle.classList.toggle('active');
            sidebar.classList.toggle('active');
            content.classList.toggle('shifted');
        }

        document.addEventListener("DOMContentLoaded", function () {
            let menuList = document.querySelectorAll('.Menulist li');
            let sections = document.querySelectorAll('.content > div');

            function activeLink() {
                menuList.forEach((item) => item.classList.remove('active'));
                sections.forEach((section) => section.classList.remove('active-section'));
                this.classList.add('active');
                document.querySelector(`.${this.getAttribute('data-section')}`).classList.add('active-section');
            }

            menuList.forEach((item) => item.addEventListener('click', activeLink));
        });

        // For View
// Sample data for demonstration purposes
const data = {
    admin: [
        { id: 1, name: 'John', surname: 'Doe', age: 40, timeAdded: '2023-01-01 10:00' },
        { id: 2, name: 'Jane', surname: 'Smith', age: 35, timeAdded: '2023-02-15 14:30' }
    ],
    doctor: [
        { id: 1, name: 'Alice', surname: 'Brown', age: 45, timeAdded: '2023-03-10 08:45' },
        { id: 2, name: 'Bob', surname: 'Johnson', age: 50, timeAdded: '2023-04-05 12:00' }
    ],
    healthWorker: [
        { id: 1, name: 'Charlie', surname: 'Davis', age: 30, timeAdded: '2023-05-20 09:15' },
        { id: 2, name: 'David', surname: 'Miller', age: 25, timeAdded: '2023-06-25 11:45' }
    ],
    patient: [
        { id: 1, name: 'Eve', surname: 'Wilson', age: 20, timeAdded: '2023-07-01 07:30' },
        { id: 2, name: 'Frank', surname: 'Taylor', age: 60, timeAdded: '2023-07-18 13:20' }
    ]
};

function showView(view) {
    // Hide all views
    const views = document.getElementsByClassName('view');
    for (let i = 0; i < views.length; i++) {
        views[i].style.display = 'none';
    }

    // Show the selected view
    document.getElementById(view + '-view').style.display = 'block';
    populateTable(view);
}

function populateTable(view) {
    const tbody = document.getElementById(view + '-tbody');
    tbody.innerHTML = '';

    data[view].forEach(user => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${user.id}</td>
            <td>${user.name}</td>
            <td>${user.surname}</td>
            <td>${user.age}</td>
            <td>${user.timeAdded}</td>
        `;
        tbody.appendChild(row);
    });
}

function searchUsers() {
    const input = document.getElementById('search-input');
    const filter = input.value.toLowerCase();
    const view = document.querySelector('.view:not([style*="display: none"])').id.split('-')[0];
    const tbody = document.getElementById(view + '-tbody');
    const rows = tbody.getElementsByTagName('tr');

    for (let i = 0; i < rows.length; i++) {
        const cells = rows[i].getElementsByTagName('td');
        const name = cells[1].textContent.toLowerCase();
        if (name.includes(filter)) {
            rows[i].style.display = '';
        } else {
            rows[i].style.display = 'none';
        }
    }
}

// Initial population of the admin view
showView('admin');

//FOr USERS
function openAddUserForm() {
    document.getElementById('add-user-form').classList.remove('hidden');
}

function closeAddUserForm() {
    document.getElementById('add-user-form').classList.add('hidden');
}

function addUser() {
    const username = document.getElementById('username').value;
    const email = document.getElementById('email').value;
    const role = document.getElementById('role').value;

    if (username && email && role) {
        const tableBody = document.getElementById('user-table-body');
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${username}</td>
            <td>${email}</td>
            <td>${role}</td>
            <td><button onclick="editUser(this)">Edit</button> <button onclick="deleteUser(this)">Delete</button></td>
        `;
        tableBody.appendChild(row);

        // Clear the form
        document.getElementById('username').value = '';
        document.getElementById('email').value = '';
        document.getElementById('role').value = '';
        closeAddUserForm();
    } else {
        alert('Please fill out all fields.');
    }
}

function editUser(button) {
    // Implement edit functionality here
    alert('Edit functionality not implemented.');
}

function deleteUser(button) {
    if (confirm('Are you sure you want to delete this user?')) {
        const row = button.parentElement.parentElement;
        row.parentElement.removeChild(row);
    }
}

//for reports and settings
// JavaScript for handling report generation and settings

// Function to generate a sample report
function generateReport() {
    const reportOutput = document.getElementById('report-output');
    // Simulating a report generation
    reportOutput.innerHTML = `
        <h2>Sample Report</h2>
        <p>Date: ${new Date().toLocaleDateString()}</p>
        <p>Generated data goes here...</p>
    `;
}

// Function to save settings
function saveSettings() {
    const siteTitle = document.getElementById('site-title').value;
    const timezone = document.getElementById('timezone').value;
    
    // Simulate saving settings
    console.log('Settings saved:', {
        siteTitle: siteTitle,
        timezone: timezone
    });
    
    alert('Settings saved successfully!');
}

    </script>
</body>
</html>
